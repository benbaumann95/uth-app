
<div class="show-ticket-container">
  <div class="banner-venue">
    <div class="tickets-for-event-text">

      <h1 class='space-around-text lightslategrey'><%= @event.name %></h1>
        <i class="fas fa-calendar-alt"></i><strong><%= @event.date_and_time.strftime('%a %d %b').upcase %></strong>
        <i class="fas fa-map-marker"></i><strong><%= @venue %>, <%= @event.city %></strong>
    </div>

      <div class="available-tickets-text">
        <% if @event.quantity == 0 %>
        <p>Sorry, there are no tickets currently available! </p>
        <% elsif @event.quantity == 1 %>
        <p class='indianred'>Only <strong><%= @event.quantity %></strong> ticket remaining!</p>
        <% else %>
        <p class='cadetblue'>There are <strong><%= @event.quantity %></strong> tickets for this event remaining.</p>
        <% end %>
      </div>


    <% if @event.quantity == 0 %>
    <p class="available-tickets-text">Bookmark the event to be notified when tickets are available</p>

    <% else %>
    <div class="container-upcoming-tickets">
      <% @tickets.each do |ticket| %>
      <!-- if the current user is the ticket lister, we display it but don't make it a link -->
      <% if current_user != ticket.user %>
      <%= render 'ticket_row', ticket: ticket, myclass: '' %>
      <% else %>
      <%= render 'ticket_row', ticket: ticket, myclass: 'own-ticket' %>
      <% end %>
      <% end %>
    </div>
    <% end %>
  </div>

  <div id="map" data-markers="<%= @markers.to_json %>"></div>
</div>



<%= javascript_include_tag "https://maps.googleapis.com/maps/api/js?libraries=places&key=#{ENV['GOOGLE_API_BROWSER_KEY']}" %>
<%= javascript_pack_tag "map" %>
<%= javascript_pack_tag "event-show" %>
<% if params[:redirect_success] == "true" %>
  <%= javascript_pack_tag "sweet-alert" %>
<% end %>

